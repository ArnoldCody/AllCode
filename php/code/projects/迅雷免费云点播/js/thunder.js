function Thunder(a,b){this.$(a,b)}function WebThunder(){this.$()}function BigThunder(){this.$()}BigThunder.prototype={$:function(){if(typeof this._o=="undefined")try{BigThunder.prototype._o=new ActiveXObject("ThunderAgent.Agent")}catch(a){try{BigThunder.prototype._o=new ActiveXObject("ThunderAgent.Agent.1")}catch(a){BigThunder.prototype._o=null}}return this._o},_af:-1,_afs:[function(a,b,c,d,e,f){a.AddTask5(c,e,"",e,d,-1,0,4,"",b,f,1,"",-1)},function(a,b,c,d,e,f){a.AddTask4(c,"","",e,d,-1,0,-1,"userid="+getCookie("urserid"),b,f)},function(a,b,c,d,e,f){a.AddTask3(c,"","",e,d,-1,0,-1,"",b)},function(a,b,c,d,e,f){a.AddTask2(c,"","",e,d,-1,0,-1,"")},function(a,b,c,d,e,f){a.AddTask(c,"","",e,d,-1,0,-1)}],_add:function(a,b,c,d,e){if(this._af>=0){this._afs[this._af](this._o,a,b,c,d,e);return true}for(var f=0;f<this._afs.length;++f)try{this._afs[f](this._o,a,b,c,d,e);this._af=f;return true}catch(g){}return false},_cf:-1,_cfs:[function(a){a.CommitTasks2(1)},function(a){a.CommitTasks()}],_commit:function(){if(this._cf>=0){this._cfs[this._cf](this._o);return true}for(var a=0;a<this._cfs.length;++a)try{this._cfs[a](this._o);this._cf=a;return true}catch(b){}return false},down:function(a,b,c,d,e){if(!(this._add(a,b,c,d,e)&&this._commit()))throw"不支持此方法，请安装最新的迅雷客户端"},batch:function(a){for(var b=0;b<a.length;++b){var c=a[b];if(!this._add(c.cid,c.url,c.refer,c.name,c.stat))return false}return this._commit()}};WebThunder.prototype={$:function(){if(typeof this._o=="undefined")try{WebThunder.prototype._o=new ActiveXObject("ThunderServer.webThunder.1")}catch(a){WebThunder.prototype._o=null}return this._o},_whd:function(a){return a.replace(/<br>/g,"\n").replace(/&lt/g,"<").replace(/&gt/g,">").replace(/&quot/g,'"').replace(/&apos/g,"'").replace(/&amp/g,"&")},down:function(a,b,c,d,e){this._o.CallAddTask(this._whd(b),d,this._whd(c),1,a,e)},batch:function(a){var b=this._o.BeginBatchTask();for(var c=0;c<a.length;++c){var d=a[c];this._o.AddTaskToBatch(b,d.url,d.name,d.refer,d.cid,d.stat)}this._o.EndBatchTask(b)}};Thunder.prototype={$:function(a,b){if(typeof this._$=="undefined"){this.web_first=a;this.only=typeof b=="undefined"?false:b;this._o=a?new WebThunder:new BigThunder;if(this._o.$())this._$=true;else if(b)this._$=false;else{this._o=a?new BigThunder:new WebThunder;this._$=this._o.$()?true:false}}return this._$},down:function(a,b,c,d,e){if(!this._$)return true;this._o.down(a,b,c,d,e);return false},batch:function(a){if(!this._$)return true;this._o.batch(a);return false}}