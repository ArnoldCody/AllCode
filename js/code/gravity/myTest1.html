<html>
<head><title>Gravity</title>
<style>
body
{
	margin: 0;
	padding: 0;
	background: #000;
}

#c
{
	display: block;
}

#r
{
	position: relative;
	text-align: center;
	font-family: Verdana;
	font-size: 10px;
	color: #AAA;
	margin-top: -30px;
	text-align: center;
}
</style>
</head>
<body><canvas id="c"></canvas><div id="r">-- By Ronny 2011 --</div></body>
<script type="text/javascript">
var x=y=0;
var g=0.6;
var cellArray = [];
var count = 1;
r = Math.random;
for(var i=0; i<count; i++)
{
	var cell = 
	{
		x: 0,
		y: 0,
		xs: 2,
		ys: 10,
		r: 4
	};
	cellArray.push(cell);
}

with(document.body)
{
	C = document.getElementById('c');
	var w = clientWidth;
	C.width = w;
	C.height = clientHeight;
	t = C.getContext("2d");
}
timer = 0;
setInterval(function(){
	C.width = w;
	//timer+=0.05;
	for(var i=0; i<count; i++)
	{
		var cell = cellArray[i];
		
		cell.ys *= 0.995;
		
		cell.x += cell.xs;
		cell.y += cell.ys;
		
		//边缘碰撞
		if(cell.x > C.width-cell.r)
		{
			cell.x = C.width-cell.r;
			cell.xs *= -1;
		}
		else if(cell.x < cell.r)
		{
			cell.x = cell.r;
			cell.xs *= -1;
		}
		 
		//边缘碰撞
		if(cell.y > C.height-cell.r)
		{
			cell.y = C.height-cell.r;
			cell.ys *= -1;
		}
		else if(cell.y < cell.r)
		{
			cell.y = cell.r;
			cell.ys *= -1;
		}
				
		t.fillStyle = "#F00";
		t.arc(cell.x, cell.y, 7, 0, 360, true);
		t.fill();
	}
}, 1);
</script>
</html>